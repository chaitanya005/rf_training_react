{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst react_1 = __importDefault(require(\"react\"));\n\nconst prosemirror_utils_1 = require(\"prosemirror-utils\");\n\nconst CommandMenu_1 = __importDefault(require(\"./CommandMenu\"));\n\nconst BlockMenuItem_1 = __importDefault(require(\"./BlockMenuItem\"));\n\nconst block_1 = __importDefault(require(\"../menus/block\"));\n\nclass BlockMenu extends react_1.default.Component {\n  constructor() {\n    super(...arguments);\n\n    this.clearSearch = () => {\n      const {\n        state,\n        dispatch\n      } = this.props.view;\n      const parent = prosemirror_utils_1.findParentNode(node => !!node)(state.selection);\n\n      if (parent) {\n        dispatch(state.tr.insertText(\"\", parent.pos, state.selection.to));\n      }\n    };\n  }\n\n  get items() {\n    return block_1.default(this.props.dictionary);\n  }\n\n  render() {\n    return react_1.default.createElement(CommandMenu_1.default, Object.assign({}, this.props, {\n      filterable: true,\n      onClearSearch: this.clearSearch,\n      renderMenuItem: (item, _index, options) => {\n        return react_1.default.createElement(BlockMenuItem_1.default, {\n          onClick: options.onClick,\n          selected: options.selected,\n          icon: item.icon,\n          title: item.title,\n          shortcut: item.shortcut\n        });\n      },\n      items: this.items\n    }));\n  }\n\n}\n\nexports.default = BlockMenu;","map":{"version":3,"sources":["../../src/components/BlockMenu.tsx"],"names":[],"mappings":";;;;;;;;;;;;AAAA,MAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,MAAA,mBAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AACA,MAAA,aAAA,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AACA,MAAA,eAAA,GAAA,eAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,CAAA;;AACA,MAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AAQA,MAAM,SAAN,SAAwB,OAAA,CAAA,OAAA,CAAM,SAA9B,CAAuD;AAAvD,EAAA,WAAA,GAAA;;;AAKE,SAAA,WAAA,GAAc,MAAK;AACjB,YAAM;AAAE,QAAA,KAAF;AAAS,QAAA;AAAT,UAAsB,KAAK,KAAL,CAAW,IAAvC;AACA,YAAM,MAAM,GAAG,mBAAA,CAAA,cAAA,CAAe,IAAI,IAAI,CAAC,CAAC,IAAzB,EAA+B,KAAK,CAAC,SAArC,CAAf;;AAEA,UAAI,MAAJ,EAAY;AACV,QAAA,QAAQ,CAAC,KAAK,CAAC,EAAN,CAAS,UAAT,CAAoB,EAApB,EAAwB,MAAM,CAAC,GAA/B,EAAoC,KAAK,CAAC,SAAN,CAAgB,EAApD,CAAD,CAAR;AACD;AACF,KAPD;AA8BD;;AAlCU,MAAL,KAAK,GAAA;AACP,WAAO,OAAA,CAAA,OAAA,CAAa,KAAK,KAAL,CAAW,UAAxB,CAAP;AACD;;AAWD,EAAA,MAAM,GAAA;AACJ,WACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,aAAA,CAAA,OAAD,EAAY,MAAA,CAAA,MAAA,CAAA,EAAA,EACN,KAAK,KADC,EACI;AACd,MAAA,UAAU,EAAE,IADE;AAEd,MAAA,aAAa,EAAE,KAAK,WAFN;AAGd,MAAA,cAAc,EAAE,CAAC,IAAD,EAAO,MAAP,EAAe,OAAf,KAA0B;AACxC,eACE,OAAA,CAAA,OAAA,CAAA,aAAA,CAAC,eAAA,CAAA,OAAD,EAAc;AACZ,UAAA,OAAO,EAAE,OAAO,CAAC,OADL;AAEZ,UAAA,QAAQ,EAAE,OAAO,CAAC,QAFN;AAGZ,UAAA,IAAI,EAAE,IAAI,CAAC,IAHC;AAIZ,UAAA,KAAK,EAAE,IAAI,CAAC,KAJA;AAKZ,UAAA,QAAQ,EAAE,IAAI,CAAC;AALH,SAAd,CADF;AASD,OAba;AAcd,MAAA,KAAK,EAAE,KAAK;AAdE,KADJ,CAAZ,CADF;AAmBD;;AAlCoD;;AAqCvD,OAAA,CAAA,OAAA,GAAe,SAAf","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst prosemirror_utils_1 = require(\"prosemirror-utils\");\nconst CommandMenu_1 = __importDefault(require(\"./CommandMenu\"));\nconst BlockMenuItem_1 = __importDefault(require(\"./BlockMenuItem\"));\nconst block_1 = __importDefault(require(\"../menus/block\"));\nclass BlockMenu extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.clearSearch = () => {\n            const { state, dispatch } = this.props.view;\n            const parent = prosemirror_utils_1.findParentNode(node => !!node)(state.selection);\n            if (parent) {\n                dispatch(state.tr.insertText(\"\", parent.pos, state.selection.to));\n            }\n        };\n    }\n    get items() {\n        return block_1.default(this.props.dictionary);\n    }\n    render() {\n        return (react_1.default.createElement(CommandMenu_1.default, Object.assign({}, this.props, { filterable: true, onClearSearch: this.clearSearch, renderMenuItem: (item, _index, options) => {\n                return (react_1.default.createElement(BlockMenuItem_1.default, { onClick: options.onClick, selected: options.selected, icon: item.icon, title: item.title, shortcut: item.shortcut }));\n            }, items: this.items })));\n    }\n}\nexports.default = BlockMenu;\n"]},"metadata":{},"sourceType":"script"}