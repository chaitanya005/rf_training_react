{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.headingToPersistenceKey = void 0;\n\nconst escape_1 = __importDefault(require(\"lodash/escape\"));\n\nconst slugify_1 = __importDefault(require(\"slugify\"));\n\nfunction safeSlugify(text) {\n  return `h-${escape_1.default(slugify_1.default(text, {\n    remove: /[!\"#$%&'\\.()*+,\\/:;<=>?@\\[\\]\\\\^_`{|}~]/g,\n    lower: true\n  }))}`;\n}\n\nfunction headingToSlug(node) {\n  let index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const slugified = safeSlugify(node.textContent);\n  if (index === 0) return slugified;\n  return `${slugified}-${index}`;\n}\n\nexports.default = headingToSlug;\n\nfunction headingToPersistenceKey(node, id) {\n  const slug = headingToSlug(node);\n  return `rme-${id || (window === null || window === void 0 ? void 0 : window.location.pathname)}–${slug}`;\n}\n\nexports.headingToPersistenceKey = headingToPersistenceKey;","map":{"version":3,"sources":["../../src/lib/headingToSlug.ts"],"names":[],"mappings":";;;;;;;;;;;;;AACA,MAAA,QAAA,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AACA,MAAA,SAAA,GAAA,eAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA;;AAKA,SAAS,WAAT,CAAqB,IAArB,EAAiC;AAC/B,SAAO,KAAK,QAAA,CAAA,OAAA,CACV,SAAA,CAAA,OAAA,CAAQ,IAAR,EAAc;AACZ,IAAA,MAAM,EAAE,yCADI;AAEZ,IAAA,KAAK,EAAE;AAFK,GAAd,CADU,CAKX,EALD;AAMD;;AAID,SAAwB,aAAxB,CAAsC,IAAtC,EAA2D;AAAA,MAAT,KAAS,uEAAD,CAAC;AACzD,QAAM,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC,WAAN,CAA7B;AACA,MAAI,KAAK,KAAK,CAAd,EAAiB,OAAO,SAAP;AACjB,SAAO,GAAG,SAAS,IAAI,KAAK,EAA5B;AACD;;AAJD,OAAA,CAAA,OAAA,GAAA,aAAA;;AAMA,SAAgB,uBAAhB,CAAwC,IAAxC,EAAoD,EAApD,EAA+D;AAC7D,QAAM,IAAI,GAAG,aAAa,CAAC,IAAD,CAA1B;AACA,SAAO,OAAO,EAAE,KAAI,MAAM,KAAA,IAAN,IAAA,MAAM,KAAA,KAAA,CAAN,GAAM,KAAA,CAAN,GAAA,MAAM,CAAE,QAAR,CAAiB,QAArB,CAA6B,IAAI,IAAI,EAArD;AACD;;AAHD,OAAA,CAAA,uBAAA,GAAA,uBAAA","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.headingToPersistenceKey = void 0;\nconst escape_1 = __importDefault(require(\"lodash/escape\"));\nconst slugify_1 = __importDefault(require(\"slugify\"));\nfunction safeSlugify(text) {\n    return `h-${escape_1.default(slugify_1.default(text, {\n        remove: /[!\"#$%&'\\.()*+,\\/:;<=>?@\\[\\]\\\\^_`{|}~]/g,\n        lower: true,\n    }))}`;\n}\nfunction headingToSlug(node, index = 0) {\n    const slugified = safeSlugify(node.textContent);\n    if (index === 0)\n        return slugified;\n    return `${slugified}-${index}`;\n}\nexports.default = headingToSlug;\nfunction headingToPersistenceKey(node, id) {\n    const slug = headingToSlug(node);\n    return `rme-${id || (window === null || window === void 0 ? void 0 : window.location.pathname)}–${slug}`;\n}\nexports.headingToPersistenceKey = headingToPersistenceKey;\n"]},"metadata":{},"sourceType":"script"}