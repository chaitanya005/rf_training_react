{"ast":null,"code":"// Convert input options to more useable format\n// and compile search regexp\n'use strict';\n\nfunction quoteRE(str) {\n  return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&');\n}\n\nmodule.exports = function normalize_opts(options) {\n  var emojies = options.defs,\n      shortcuts; // Filter emojies by whitelist, if needed\n\n  if (options.enabled.length) {\n    emojies = Object.keys(emojies).reduce(function (acc, key) {\n      if (options.enabled.indexOf(key) >= 0) {\n        acc[key] = emojies[key];\n      }\n\n      return acc;\n    }, {});\n  } // Flatten shortcuts to simple object: { alias: emoji_name }\n\n\n  shortcuts = Object.keys(options.shortcuts).reduce(function (acc, key) {\n    // Skip aliases for filtered emojies, to reduce regexp\n    if (!emojies[key]) {\n      return acc;\n    }\n\n    if (Array.isArray(options.shortcuts[key])) {\n      options.shortcuts[key].forEach(function (alias) {\n        acc[alias] = key;\n      });\n      return acc;\n    }\n\n    acc[options.shortcuts[key]] = key;\n    return acc;\n  }, {});\n  var keys = Object.keys(emojies),\n      names; // If no definitions are given, return empty regex to avoid replacements with 'undefined'.\n\n  if (keys.length === 0) {\n    names = '^$';\n  } else {\n    // Compile regexp\n    names = keys.map(function (name) {\n      return ':' + name + ':';\n    }).concat(Object.keys(shortcuts)).sort().reverse().map(function (name) {\n      return quoteRE(name);\n    }).join('|');\n  }\n\n  var scanRE = RegExp(names);\n  var replaceRE = RegExp(names, 'g');\n  return {\n    defs: emojies,\n    shortcuts: shortcuts,\n    scanRE: scanRE,\n    replaceRE: replaceRE\n  };\n};","map":{"version":3,"sources":["/home/krishnachaitanya/training/todo-react/todo-react/node_modules/markdown-it-emoji/lib/normalize_opts.js"],"names":["quoteRE","str","replace","module","exports","normalize_opts","options","emojies","defs","shortcuts","enabled","length","Object","keys","reduce","acc","key","indexOf","Array","isArray","forEach","alias","names","map","name","concat","sort","reverse","join","scanRE","RegExp","replaceRE"],"mappings":"AAAA;AACA;AAEA;;AAGA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AACpB,SAAOA,GAAG,CAACC,OAAJ,CAAY,sBAAZ,EAAoC,MAApC,CAAP;AACD;;AAGDC,MAAM,CAACC,OAAP,GAAiB,SAASC,cAAT,CAAwBC,OAAxB,EAAiC;AAChD,MAAIC,OAAO,GAAGD,OAAO,CAACE,IAAtB;AAAA,MACIC,SADJ,CADgD,CAIhD;;AACA,MAAIH,OAAO,CAACI,OAAR,CAAgBC,MAApB,EAA4B;AAC1BJ,IAAAA,OAAO,GAAGK,MAAM,CAACC,IAAP,CAAYN,OAAZ,EAAqBO,MAArB,CAA4B,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACxD,UAAIV,OAAO,CAACI,OAAR,CAAgBO,OAAhB,CAAwBD,GAAxB,KAAgC,CAApC,EAAuC;AACrCD,QAAAA,GAAG,CAACC,GAAD,CAAH,GAAWT,OAAO,CAACS,GAAD,CAAlB;AACD;;AACD,aAAOD,GAAP;AACD,KALS,EAKP,EALO,CAAV;AAMD,GAZ+C,CAchD;;;AACAN,EAAAA,SAAS,GAAGG,MAAM,CAACC,IAAP,CAAYP,OAAO,CAACG,SAApB,EAA+BK,MAA/B,CAAsC,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACpE;AACA,QAAI,CAACT,OAAO,CAACS,GAAD,CAAZ,EAAmB;AAAE,aAAOD,GAAP;AAAa;;AAElC,QAAIG,KAAK,CAACC,OAAN,CAAcb,OAAO,CAACG,SAAR,CAAkBO,GAAlB,CAAd,CAAJ,EAA2C;AACzCV,MAAAA,OAAO,CAACG,SAAR,CAAkBO,GAAlB,EAAuBI,OAAvB,CAA+B,UAAUC,KAAV,EAAiB;AAC9CN,QAAAA,GAAG,CAACM,KAAD,CAAH,GAAaL,GAAb;AACD,OAFD;AAGA,aAAOD,GAAP;AACD;;AAEDA,IAAAA,GAAG,CAACT,OAAO,CAACG,SAAR,CAAkBO,GAAlB,CAAD,CAAH,GAA8BA,GAA9B;AACA,WAAOD,GAAP;AACD,GAbW,EAaT,EAbS,CAAZ;AAeA,MAAIF,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYN,OAAZ,CAAX;AAAA,MACIe,KADJ,CA9BgD,CAiChD;;AACA,MAAIT,IAAI,CAACF,MAAL,KAAgB,CAApB,EAAuB;AACrBW,IAAAA,KAAK,GAAG,IAAR;AACD,GAFD,MAEO;AACL;AACAA,IAAAA,KAAK,GAAGT,IAAI,CACTU,GADK,CACD,UAAUC,IAAV,EAAgB;AAAE,aAAO,MAAMA,IAAN,GAAa,GAApB;AAA0B,KAD3C,EAELC,MAFK,CAEEb,MAAM,CAACC,IAAP,CAAYJ,SAAZ,CAFF,EAGLiB,IAHK,GAILC,OAJK,GAKLJ,GALK,CAKD,UAAUC,IAAV,EAAgB;AAAE,aAAOxB,OAAO,CAACwB,IAAD,CAAd;AAAuB,KALxC,EAMLI,IANK,CAMA,GANA,CAAR;AAOD;;AACD,MAAIC,MAAM,GAAGC,MAAM,CAACR,KAAD,CAAnB;AACA,MAAIS,SAAS,GAAGD,MAAM,CAACR,KAAD,EAAQ,GAAR,CAAtB;AAEA,SAAO;AACLd,IAAAA,IAAI,EAAED,OADD;AAELE,IAAAA,SAAS,EAAEA,SAFN;AAGLoB,IAAAA,MAAM,EAAEA,MAHH;AAILE,IAAAA,SAAS,EAAEA;AAJN,GAAP;AAMD,CAvDD","sourcesContent":["// Convert input options to more useable format\n// and compile search regexp\n\n'use strict';\n\n\nfunction quoteRE(str) {\n  return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&');\n}\n\n\nmodule.exports = function normalize_opts(options) {\n  var emojies = options.defs,\n      shortcuts;\n\n  // Filter emojies by whitelist, if needed\n  if (options.enabled.length) {\n    emojies = Object.keys(emojies).reduce(function (acc, key) {\n      if (options.enabled.indexOf(key) >= 0) {\n        acc[key] = emojies[key];\n      }\n      return acc;\n    }, {});\n  }\n\n  // Flatten shortcuts to simple object: { alias: emoji_name }\n  shortcuts = Object.keys(options.shortcuts).reduce(function (acc, key) {\n    // Skip aliases for filtered emojies, to reduce regexp\n    if (!emojies[key]) { return acc; }\n\n    if (Array.isArray(options.shortcuts[key])) {\n      options.shortcuts[key].forEach(function (alias) {\n        acc[alias] = key;\n      });\n      return acc;\n    }\n\n    acc[options.shortcuts[key]] = key;\n    return acc;\n  }, {});\n\n  var keys = Object.keys(emojies),\n      names;\n\n  // If no definitions are given, return empty regex to avoid replacements with 'undefined'.\n  if (keys.length === 0) {\n    names = '^$';\n  } else {\n    // Compile regexp\n    names = keys\n      .map(function (name) { return ':' + name + ':'; })\n      .concat(Object.keys(shortcuts))\n      .sort()\n      .reverse()\n      .map(function (name) { return quoteRE(name); })\n      .join('|');\n  }\n  var scanRE = RegExp(names);\n  var replaceRE = RegExp(names, 'g');\n\n  return {\n    defs: emojies,\n    shortcuts: shortcuts,\n    scanRE: scanRE,\n    replaceRE: replaceRE\n  };\n};\n"]},"metadata":{},"sourceType":"script"}